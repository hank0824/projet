<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./_css/all.css">
    <link rel="stylesheet" href="./_css/bootstrap.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <script src="./_js/bootstrap.bundle.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
        crossorigin="anonymous"></script>

    <style>
        .navbar {
            width: 100%;
            position: fixed;
            top: 0;
            z-index: 999;
        }

        h1 {
            display: flex;
            justify-content: center;
            margin-top: 100px;

        }
    </style>

</head>

<body>
    <!-- navbar -------------------------------------------------------------------------->
    <nav class=" navbar navbar-expand-lg navbar-light bg-info  ">
        <div class="container container-fluid">
            <a class="navbar-brand" href="./index.html"><span class="material-icons">
                    <span class="material-symbols-outlined text-light">
                        home
                    </span>
                </span></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0 ">
                    <li class="nav-item">
                        <a class="nav-link active text-light" aria-current="page" href="./about.html">關於周杰倫</a>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-light" href="#" id="navbarDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            歷年專輯
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item text-dark" href="./albums_over_the_years.html">Jay</a></li>
                            <li><a class="dropdown-item text-dark" href="./albums_over_the_years.html">范特西</a></li>
                            <li><a class="dropdown-item text-dark" href="./albums_over_the_years.html">八度空間</a></li>
                            <li><a class="dropdown-item text-dark" href="./albums_over_the_years.html">11月的蕭邦</a></li>
                            <li><a class="dropdown-item text-dark" href="./albums_over_the_years.html">七里香</a></li>
                            <li><a class="dropdown-item text-dark" href="./albums_over_the_years.html">12新作</a></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item text-dark" href="./albums_over_the_years.html">其他</a></li>
                        </ul>
                    </li>

                </ul>
                <div class="nav-item ">
                    <ul class="d-flex">
                        <li style="list-style: none;" class="p-2 me-auto">
                            <img style="width: 20px; height:20px;" src="./img/icons8-user-64.png" alt="">
                            <a href="./register.html">會員註冊</a>
                        </li>
                        <li style="list-style: none;" class="p-2 me-auto">
                            <img style="width: 20px; height:20px;" src="./img/icons8-shopping-cart-50.png" alt="">
                            <a href="./shoping.html">購買專輯</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>





    <!-- table ---------------------------------------------------------------------->
    <div id="a" class="rwd-table  table-responsive-sm mt-3">

        <table class="table container">
            <h1>購買專輯</h1>
            <thead>

                <tr>
                    <th scope="col">#</th>
                    <th scope="col">專輯名稱</th>
                    <th scope="col">專輯圖片</th>
                    <th scope="col">售價</th>
                    <th scope="col">數量</th>
                    <th scope="col">小計</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th data-th="#" scope="row">1</th>
                    <td data-th="專輯名稱" onclick="">Jay</td>
                    <td data-th="專輯圖片"><img class="img-fluid" src="./img/jay.jpg" alt="" width="100" height="100"></td>
                    <td data-th="售價"><input type="hidden" name="price" value="590">590</td>
                    <td data-th="數量">
                        <input type="button" name="minus" value="-" onclick="minus(0)">
                        <input type="text" name="amount" value="0" onblur="importing(0)">
                        <input type="button" name="plus" value="+" onclick="plus(0)">
                    </td>
                    <td data-th="小計" id="price0" class="pric">0</td>
                </tr>
                <tr>
                    <th data-th="#" scope="row">2</th>
                    <td data-th="專輯名稱">范特西</td>
                    <td data-th="專輯圖片"><img class="img-fluid" src="./img/范特西.jpg" alt="" width="100" height="100"></td>
                    <td data-th="售價"><input type="hidden" name="price" value="350">350</td>
                    <td data-th="數量">
                        <input type="button" name="minus" value="-" onclick="minus(1)">
                        <input type="text" name="amount" value="0" onblur="importing(1)">
                        <input type="button" name="plus" value="+" onclick="plus(1)">
                    </td>
                    <td data-th="小計" id="price1" class="pric">0</td>
                </tr>
                <tr>
                    <th data-th="#" scope="row">3</th>
                    <td data-th="專輯名稱">八度空間</td>
                    <td data-th="專輯圖片"><img class="img-fluid" src="./img/八度空間.jpg" alt="" width="100" height="100"></td>
                    <td data-th="售價"><input type="hidden" name="price" value="400">400</td>
                    <td data-th="數量">
                        <input type="button" name="minus" value="-" onclick="minus(2)">
                        <input type="text" name="amount" value="0" onblur="importing(2)">
                        <input type="button" name="plus" value="+" onclick="plus(2)">
                    </td>
                    <td data-th="小計" id="price2" class="pric">0</td>
                </tr>
                <tr>
                    <th data-th="#" scope="row">4</th>
                    <td data-th="專輯名稱">11月的蕭邦</td>
                    <td data-th="專輯圖片"><img class="img-fluid" src="./img/11月的蕭邦.jpg" alt="" width="100" height="100">
                    </td>
                    <td data-th="售價"><input type="hidden" name="price" value="599">599</td>
                    <td data-th="數量">
                        <input type="button" name="minus" value="-" onclick="minus(3)">
                        <input type="text" name="amount" value="0" onblur="importing(3)">
                        <input type="button" name="plus" value="+" onclick="plus(3)">
                    </td>
                    <td data-th="小計" id="price3" class="pric">0</td>
                </tr>
                <tr>
                    <th data-th="#" scope="row">5</th>
                    <td data-th="專輯名稱">七里香</td>
                    <td data-th="專輯圖片"><img class="img-fluid" src="./img/七里香.jpg" alt="" width="100" height="100"></td>
                    <td data-th="售價"> <input type="hidden" name="price" value="699">699</td>
                    <td data-th="數量">
                        <input type="button" name="minus" value="-" onclick="minus(4)">
                        <input type="text" name="amount" value="0" onblur="importing(4)">
                        <input type="button" name="plus" value="+" onclick="plus(4)">
                    </td>
                    <td data-th="小計" id="price4" class="pric">0</td>
                </tr>
                <tr>
                    <th data-th="#" scope="row">6</th>
                    <td data-th="專輯名稱">12新作</td>
                    <td data-th="專輯圖片"><img class="img-fluid" src="./img/12新作.jpg" alt="" width="100" height="100"></td>
                    <td data-th="售價"><input type="hidden" name="price" value="299">299</td>
                    <td data-th="數量">
                        <input type="button" name="minus" value="-" onclick="minus(5)">
                        <input type="text" name="amount" value="0" onblur="importing(5)">
                        <input type="button" name="plus" value="+" onclick="plus(5)">
                    </td>
                    <td data-th="小計" id="price5" class="pric">0</td>
                </tr>
                <tr>
                    <th data-th="#" scope="row">7</th>
                    <td data-th="專輯名稱">12新作</td>
                    <td data-th="專輯圖片"><img class="img-fluid" src="./img/12新作.jpg" alt="" width="100" height="100"></td>
                    <td data-th="售價"><input type="hidden" name="price" value="299">299</td>
                    <td data-th="數量">
                        <input type="button" name="minus" value="-" onclick="minus(6)">
                        <input type="text" name="amount" value="0" onblur="importing(6)">
                        <input type="button" name="plus" value="+" onclick="plus(6)">
                    </td>
                    <td data-th="小計" id="price6" class="pric">0</td>
                </tr>
                <tr>
                    <th data-th="#" scope="row">8</th>
                    <td data-th="專輯名稱">12新作</td>
                    <td data-th="專輯圖片"><img class="img-fluid" src="./img/12新作.jpg" alt="" width="100" height="100"></td>
                    <td data-th="售價"><input type="hidden" name="price" value="299">299</td>
                    <td data-th="數量">
                        <input type="button" name="minus" value="-" onclick="minus(7)">
                        <input type="text" name="amount" value="0" onblur="importing(7)">
                        <input type="button" name="plus" value="+" onclick="plus(7)">
                    </td>
                    <td data-th="小計" id="price7" class="pric">0</td>
                </tr>
            </tbody>

        </table>

        <ul class=" settle ">
            <li class="mt-2 me-3" style="list-style-type: none;" id="totalPrice">總計$0&nbsp;</li>
            <li style="list-style-type: none;">
                <button class=" me-3 mt-2 " onclick="showMsg()">結帳</button>
            </li>

        </ul>
        <div class="back-top " title="回頂部"><a href="#a">TOP</a></div>
    </div>


    <script>


        //减法
        function minus(index) {
            var amounts = document.getElementsByName("amount");
            var count = parseInt(amounts[index].value);
            if (count <= 0) {
            } else {
                var count = parseInt(amounts[index].value) - 1; //數量減1
                amounts[index].value = count;
                var prices = document.getElementsByName("price");
                var price = parseFloat(prices[index].value);
                var totalMoney = ((price * Math.pow(10, 2)) * count) / Math.pow(10, 2);
                document.getElementById("price" + index).innerHTML = "$" + totalMoney;
            }
            total();
        }
        //加法
        function plus(index) {
            var amounts = document.getElementsByName("amount");
            var count = parseInt(amounts[index].value) + 1; //數量加1
            //重新把count的值綁定在數量
            amounts[index].value = count;
            //當前操作端口的價格也要重新計算
            //得到當前端口的單價
            var prices = document.getElementsByName("price");
            var price = parseFloat(prices[index].value);
            //乘以Math.pow(10,2)的原因為避免失真
            var totalMoney = ((price * Math.pow(10, 2)) * count) / Math.pow(10, 2);
            //顯示當前的價格
            document.getElementById("price" + index).innerHTML = "$" + totalMoney;
            total();
        }

        //輸入數量
        function importing(index) {
            var amounts = document.getElementsByName("amount");
            var count = parseInt(amounts[index].value);
            var prices = document.getElementsByName("price");
            var price = parseFloat(prices[index].value);
            var totalMoney = ((price * Math.pow(10, 2)) * count) / Math.pow(10, 2);
            document.getElementById("price" + index).innerHTML = "$" + totalMoney;
            total();
        }


        //總計
        function total() {
            var counts = document.getElementsByName("amount");
            var prices = document.getElementsByName("price");
            var sumMoney = 0;
            for (var i = 0; i < counts.length; i++) {
                sumMoney += (parseFloat(prices[i].value) * Math.pow(10, 2) * parseInt(counts[i].value) / Math.pow(10, 2));
            }
            document.getElementById("totalPrice").innerHTML = "總計$" + sumMoney;
        }

        //跳出訊息
        function showMsg() {
            alert('訂單已送出，感謝訂購');
            window.location.reload();
        }
    </script>
</body>
<footer class="bg-light text-center text-lg-start">
    <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
        © 2023 施人豪製作
    </div>
</footer>

</html>